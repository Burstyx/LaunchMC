<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="index2.css">
    <link rel="stylesheet" href="./styles/elements.css">
    <link rel="stylesheet" href="./styles/text-formatting.css">
    <link rel="stylesheet" href="./styles/scrollbar.css">
</head>
<body>
    <div class="titlebar">
        <p>Ruby Client - <span class="highlight" id="client-version">N/A</span></p>
        <div class="menu-btns" id="titlebar-menu-btns">
            <div class="default-btn interactable" id="discoverBtn">Discover</div>
            <div class="default-btn active interactable" id="instancesBtn">My Instances</div>
            <div class="default-btn interactable">My Servers</div>
            <div class="default-btn interactable">Settings</div>
            <div class="default-btn interactable" id="open-account-manager-window" style="display: flex; gap: 5px;"><img
                    src="https://minotar.net/avatar/Steve" id="profile-img" style="border-radius: 20px;" width="25px"></div>
            <div class="default-btn interactable" id="update-btn" style="border: solid orange; display: none">Update now</div>
        </div>
        <div class="win-btns">
            <div class="default-btn interactable" id="reduce-btn"><img src="resources/svg/old/reduce.svg"></div>
            <div class="default-btn interactable" id="minimize-btn"><img src="resources/svg/old/maximize.svg"></div>
            <div class="default-btn danger interactable" id="close-btn"><img src="resources/svg/old/close.svg"></div>
        </div>
    </div>
    <div class="sub-content">
        <div class="loading-page" id="loading-startup-launcher">
            <div class="loading"></div>
        </div>
        <!-- Tabs -->
        <div class="instance-menu tabcontent" id="instance-menu">
            <div class="default-btn interactable" id="open-create-instance-window" style="position: absolute; bottom: 10px; right: 10px"><img src="resources/svg/old/add.svg" width="25px"></div>
            <div class="default-btn interactable" id="open-import-profile-ctxdialog" style="position: absolute; bottom: 10px; right: 70px"><img src="resources/svg/old/import.svg" width="27px"></div>
            <div id="instance-list">
                <!-- All instances will be there -->
            </div>
        </div>
        <div class="discover-menu tabcontent" id="discover-menu" style="display: none">
            <div id="profile-list">
                <!-- All profiles will be there -->
            </div>
        </div>
        <!-- Windows -->
        <div class="sub-window" id="sub-windows">
            <div class="window" window-id="instance-info">
                <div class="info-content" id="content">
                    <div class="info-backimg" id="content-background">
                        <!-- TODO: c moche ca -->
                        <div style="position: absolute; top: 10px; left: 10px; display: flex; gap: 5px; background-color: rgba(0,0,0,0.5); padding: 5px 10px; border-radius: 5px" onclick="require('./scripts/window').closeWindow('instance-info')"><img src="resources/svg/old/back.svg" width="25px">Back</div>
                        <div class="overlapping-info">
                            <p style="font-size: 45px; font-weight: 600; text-shadow: 0px 0px 10px rgba(0, 0, 0, 1);" id="instance-title"> &lt;!&ndash; Dynamic &ndash;&gt; </p>
                            <p style="font-size: 18px; text-shadow: 0px 0px 10px rgba(0, 0, 0, 1);">By <span style="color: #FFF /* Dynamic */; font-weight: 400; transition: color .15s;" id="instance-author"> &lt;!&ndash; Dynamic &ndash;&gt; </span></p>
                        </div>
                        <div class="action-btn">
                            <div class="accent-btn interactable" style="position: relative; left: 5px; background-color: #2b2b2b /* Dynamic */; border: solid #363636 /* Dynamic */; box-shadow: 0 0 10px 1px #2b2b2b /* Dynamic */; transition: background-color .15s, border .15s, box-shadow .15s, transform .15s, filter .15s;" id="launchbtn">Play</div>
                        </div>
                    </div>

                    <div class="instance-info-area">
                        <div class="all-widgets">
                            <div class="info-widgets">
                                <div class="widget-btn interactable" id="widget-version" widget-name="Version"> Dynamic </div>
                                <div class="widget-btn interactable" id="widget-modloader" widget-name="Loader"> Dynamic </div>
                                <div class="widget-btn interactable" id="widget-playtime" widget-name="Playtime"> Dynamic  </div>
                                <div class="widget-btn interactable" id="widget-lastplayed" widget-name="Last Played"> Dynamic </div>
                            </div>
                            <div class="widget-btn interactable screenshot-widget" id="widget-screenshot" widget-name="Last Screenshot" style="padding: 25px;">
                                <div style="width: 100%; height: 100%; background-position: 50%; background-size: cover; border-radius: 5px;"></div> Dynamic
                            </div>
                            <div class="widget-btn interactable" id="widget-post" style="grid-column: span 2;" widget-name="Last Post">
                                Dynamic
                            </div>
                        </div>
                        <div class="widget-btn interactable" id="widget-description" widget-name="Description" style="text-align: left;">
                            Dynamic
                        </div>
                    </div>
                </div>
                <div class="loading" id="instance-info-loading" style="display: none;">Loading</div>
            </div>
            <div class="window" window-id="new-instance">
                <div class="info-backimg" id="backimg-new-instance" image-path="./resources/images/default.png" style="background: url(./resources/images/default.png) 50% center / cover;">
                    <div class="change-image-container">
                        <div class="default-btn interactable" id="change-instance-image" style="font-size: 20px; display: flex;">Change Image</div>
                    </div>
                </div>
                <input class="default-textinput" id="new-instance-name" type="text"
                    style="width: 250px; height: 25px; position: relative; top: -25px; left: 50%; transform: translateX(-50%);"
                    placeholder="1.20.1" maxlength="30">
                <div class="widgets-container">
                    <div class="widget-btn interactable" id="open-choose-version-win" widget-name="Version" version-id="1.20.1" modloader-id="vanilla" subname="latest" style="width: 100%;">1.20.1</div>
                </div>
                <div class="actions-btn">
                    <div class="default-btn danger" id="close-new-instance-win" style="font-size: 18px; width: 200px;">Cancel</div>
                    <div class="default-btn interactable" id="create-instance-btn" style="font-size: 18px; width: 200px;">Create</div>
                </div>
            </div>
            <div class="window" window-id="choose-version">
                <div class="version-list" id="versions-list"></div>
                <div class="filters" style="position: relative;">
                    <selectorgroup class="loader-selector">
                        <div class="selector" id="vanilla-loader" active>Vanilla</div>
                        <div class="selector" id="forge-loader">Forge</div>
                        <div class="selector" id="fabric-loader">Fabric</div>
                        <div class="selector" id="quilt-loader">Quilt</div>
                    </selectorgroup>
                    <div class="version-filter" id="vanilla-version-filter">
                        <input type="text" id="vanilla-version-filter-search" placeholder="Search a version">
                        <div class="checkbox" id="vanilla-version-filter-release" text="Releases" checked>Releases</div>
                        <div class="checkbox" id="vanilla-version-filter-snapshot" text="Snapshots">Snapshots</div>
                        <div class="checkbox" id="vanilla-version-filter-beta" text="Betas">Betas</div>
                        <div class="checkbox" id="vanilla-version-filter-alpha" text="Alphas">Alphas</div>
                    </div>
                    <div class="version-filter" id="forge-version-filter" style="display: none;">
                        <input type="text" id="forge-version-filter-search" placeholder="Search a Forge version">
                        <div class="checkbox" id="forge-version-filter-showall" text="Releases">Show all versions</div>
                    </div>
                    <div class="default-btn danger" id="close-choose-version-win"
                        style="position: absolute; bottom: 5px; left: 5px; right: 5px;">Cancel</div>
                </div>
            </div>
            <div class="window" window-id="account-manager">
                <selectorgroup class="account-list" id="account-list">
                    <!-- All associated account will be there -->
                </selectorgroup>
                <div class="actions-btn">
                    <div class="default-btn danger" id="close-account-manager-win" style="font-size: 18px; width: 200px;">Cancel</div>
                    <div class="default-btn interactable" id="create-account-btn" style="font-size: 18px; width: 200px;">Add Account</div>
                </div>
            </div>
        </div>
    </div>
    <!-- CTX Menu -->
    <div class="ctxmenu_rc" id="rcmenu-instance" style="display: none">
        <div id="rc_edit_instance">Edit (soon)</div>
        <div id="rc_open_instance_folder">Open folder</div>
        <div class="danger" id="rc_delete_instance">Delete</div>
    </div>
    <script>
        // Avoid middle mouse click to scroll
        document.addEventListener("mousedown", (e) => {
            if (e.button === 1) {
                e.preventDefault()
            }
        }, { passive: false })

        // Automatically change rendered version
        document.getElementById("client-version").innerText = require("../../../package.json").version

        // Hide ctx menu when clicking anywhere
        for (let e of document.getElementsByClassName("ctxmenu_rc")) {
            document.addEventListener("click", (evt) => {
                e.style.display = "none"
            })
        }
    </script>

    <!-- App script -->
    <script src="./CoreApp.js"></script>
</body>
</html>