<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="./styles/elements.css">
    <link rel="stylesheet" href="./styles/text-formatting.css">
    <link rel="stylesheet" href="./styles/scrollbar.css">
</head>
<body>
    <div class="titlebar">
        <p>Ruby Client - <span class="highlight" id="client-version">N/A</span></p>
        <div class="menu-btns" id="titlebar-menu-btns">
            <div class="default-btn interactable">Explore</div>
            <div class="default-btn active interactable">My Instances</div>
            <div class="default-btn interactable">My Servers</div>
            <div class="default-btn interactable">Settings</div>
        </div>
        <div class="win-btns">
            <div class="default-btn interactable" id="reduce-btn"><img src="./resources/svg/reduce.svg"></div>
            <div class="default-btn interactable" id="minimize-btn"><img src="./resources/svg/maximize.svg"></div>
            <div class="default-btn danger interactable" id="close-btn"><img src="./resources/svg/close.svg"></div>
        </div>
    </div>
    <div class="sub-content">
        <div class="loading-page" id="loading-startup-launcher">
            <div class="loading"></div>
        </div>
        <div class="instance-sidebar">
            <div id="instance-list">
                <!-- All instances will be there -->
            </div>
            <div class="action-btns" style="display: flex; gap: 5px; margin: 0px 5px 5px 5px">
                <div class="default-btn interactable" id="open-create-instance-window" style="flex: 10;"><img
                        src="./resources/svg/add.svg"></div>
                <div class="default-btn interactable" id="open-account-manager-window" style="flex: 1; display: flex; gap: 5px;"><img
                        src="https://minotar.net/avatar/Steve" id="profile-img" style="border-radius: 20px;" width="25px"></div>
            </div>
        </div>
        <div class="instance-info">
            <div class="info-content" id="content" style="display: none;">
                <div class="info-backimg" id="content-background">
                    <div class="overlapping-info">
                        <p style="font-size: 45px; font-weight: 600; text-shadow: 0px 0px 10px rgba(0, 0, 0, 1);" id="instance-title"> <!-- Dynamic --> </p>
                        <p style="font-size: 18px; text-shadow: 0px 0px 10px rgba(0, 0, 0, 1);">By <span style="color: #FFF /* Dynamic */; font-weight: 400; transition: color .15s;" id="instance-author"> <!-- Dynamic --> </span></p>
                    </div>
                    <div class="action-btn">
                        <div class="accent-btn interactable" style="position: relative; left: 5px; background-color: #2b2b2b /* Dynamic */; border: solid #363636 /* Dynamic */; box-shadow: 0 0 10px 1px #2b2b2b /* Dynamic */; transition: background-color .15s, border .15s, box-shadow .15s, transform .15s, filter .15s;" id="launchbtn">Play</div>
                    </div>
                </div>
                
                <div class="instance-info-area">
                    <div class="all-widgets">
                        <div class="info-widgets">
                            <div class="widget-btn interactable" id="widget-version" widget-name="Version" subname=""> <!-- Dynamic --> </div>
                            <div class="widget-btn interactable" id="widget-modloader" widget-name="Modloader" subname=""> <!-- Dynamic --> </div>
                            <div class="widget-btn interactable" id="widget-playtime" widget-name="Playtime"> <!-- Dynamic --> </div>
                            <div class="widget-btn interactable" id="widget-lastplayed" widget-name="Last Played"> <!-- Dynamic --> </div>
                        </div>
                        <div class="widget-btn interactable screenshot-widget" id="widget-screenshot" widget-name="Last Screenshot" style="padding: 25px;">
                            <div style="width: 100%; height: 100%; background: url(); background-position: 50%; background-size: cover; border-radius: 5px;"></div> <!-- Dynamic -->
                        </div>
                        <div class="widget-btn interactable" id="widget-post" style="grid-column: span 2;" widget-name="Last Post">
                            <!-- Dynamic -->
                        </div> 
                    </div>
                    <div class="widget-btn interactable" id="widget-description" widget-name="Description" style="text-align: left;">
                        <!-- Dynamic -->
                    </div>
                </div>
            </div>
            <div class="loading" id="instance-info-loading" style="display: none;">Loading</div>
        </div>
        <div class="sub-window" id="sub-windows">
            <div class="window" window-id="new-instance">
                <div class="info-backimg" id="backimg-new-instance" image-path="./resources/images/default.png" style="background: url(./resources/images/default.png) 50% center / cover;">
                    <div class="change-image-container">
                        <div class="default-btn interactable" id="change-instance-image" style="font-size: 20px; display: flex;">Change Image</div>
                    </div>
                </div>
                <input class="default-textinput" id="new-instance-name" type="text"
                    style="width: 250px; height: 25px; position: relative; top: -25px; left: 50%; transform: translateX(-50%);"
                    placeholder="1.20.1" maxlength="30">
                <div class="widgets-container">
                    <div class="widget-btn interactable" id="open-choose-version-win" widget-name="Version" version-id="1.20.1" subname="latest" style="width: 150px;">1.20.1</div>
                    <div class="widget-btn interactable" id="open-choose-modloader-win" widget-name="Modloader" modloader-id="vanilla" subname="No modloader selected" style="width: 150px;">Vanilla</div>
                </div>
                <div class="actions-btn">
                    <div class="default-btn danger" id="close-new-instance-win" style="font-size: 18px; width: 200px;">Cancel</div>
                    <div class="default-btn interactable" id="create-instance-btn" style="font-size: 18px; width: 200px;">Create</div>
                </div>
            </div>
            <div class="window" window-id="choose-version">
                <div class="version-list" id="vanilla-versions-list">
                </div>
                <div class="version-filters">
                    <input type="text" id="vanilla-version-filter-search" placeholder="Search">
                    <div class="checkbox" id="vanilla-version-filter-release" text="Releases" checked>Releases</div>
                    <div class="checkbox" id="vanilla-version-filter-snapshot" text="Snapshots" checked>Snapshots</div>
                    <div class="checkbox" id="vanilla-version-filter-beta" text="Betas">Betas</div>
                    <div class="checkbox" id="vanilla-version-filter-alpha" text="Alphas">Alphas</div>
                    <div class="default-btn danger" id="close-choose-version-win" style="position: absolute; bottom: 5px; left: 5px; right: 5px;">Cancel</div>
                </div>
            </div>
            <div class="window" window-id="account-manager">
                <div class="account-list" id="account-list">
                    <!-- All associated account will be there -->
                </div>
                <div class="actions-btn">
                    <div class="default-btn danger" id="close-account-manager-win" style="font-size: 18px; width: 200px;">Cancel</div>
                    <div class="default-btn interactable" id="create-account-btn" style="font-size: 18px; width: 200px;">Add Account</div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Avoid middle mouse click to scroll
        document.addEventListener("mousedown", (e) => {
            if (e.button == 1) {
                e.preventDefault()
            }
        }, { passive: false })

        // Automatically change rendered version
        document.getElementById("client-version").innerText = require("../../../package.json").version
    </script>

    <!-- App script -->
    <script src="./CoreApp.js"></script>
</body>
</html>